{"title":"Plotting dynamic maps with mapview","markdown":{"yaml":{"title":"Plotting dynamic maps with mapview","date":"2022-08-10","slug":[],"categories":["R","Spatial Data","Data Visualization"],"tags":["R","spatial data","data visualization"],"image":"thumb.png","description":"Cool mapping features in R with mapview."},"headingText":"Overlaying points on a polygon","containsRefs":false,"markdown":"\n\nI've spent a lot of time working with spatial data recently, and came across a cool tool to display maps that I thought was worth writing about. Here are some of the cool features you can find in [`mapview`](https://www.rdocumentation.org/packages/mapview/versions/2.11.0).\n\nI'll be using the included `breweries`, and `franconia` datasets to show off some of the features I found useful for making dynamic maps.\n\n\nMapview can stack maps on each other with ease. For example, we can take the shape files from the franconia data, and overlay the breweries' coordinates on the same map. Notice when you click on either a point or polygon you get information about the specific data.\n\n```{r}\npacman::p_load(mapview, leafsync, leaflet.extras2, dplyr)\n\nregions = mapview(franconia,\n  zcol = \"NAME_ASCI\",\n  legend = FALSE\n)\n\nbrew = mapview(breweries,\n  legend = FALSE,\n  cex = breweries$number.of.types, # size based on number of beers\n  col.regions = \"white\") # color points white \n\nregions + brew\n```\n\n### Comparing two maps side by side\n\nOne of the cooler features I've come across comes from `leafsync::sync()`, which allows you to place two mapview maps next to each other, and mirror the location of your mouse from one map to the next. Admittedly this isn't the best usecase for this comparison, but lets compare the maps showing breweries founded before the year 1800 and after.\n\n```{r}\nCUTOFF = 1800\nmap_pre = regions + \n  mapview(breweries |>\n            filter(founded < CUTOFF),\n          legend = FALSE,\n          col.regions = \"blue\")\n\nmap_post = regions + \n  mapview(breweries |>\n            filter(founded >= CUTOFF),\n          legend = FALSE,\n          col.regions = \"green\")\n\nsync(map_pre, map_post)\n```\n\nAdditionally, you can add a slider to compare the two maps in the same map.\n\n```{r}\nmap_pre | map_post\n```\n\nI'm sure there is plenty more use cases and functionality available within mapview, but these are some of the cases I've come across that I've found helpful in my workflow.\n","srcMarkdownNoYaml":"\n\nI've spent a lot of time working with spatial data recently, and came across a cool tool to display maps that I thought was worth writing about. Here are some of the cool features you can find in [`mapview`](https://www.rdocumentation.org/packages/mapview/versions/2.11.0).\n\nI'll be using the included `breweries`, and `franconia` datasets to show off some of the features I found useful for making dynamic maps.\n\n## Overlaying points on a polygon\n\nMapview can stack maps on each other with ease. For example, we can take the shape files from the franconia data, and overlay the breweries' coordinates on the same map. Notice when you click on either a point or polygon you get information about the specific data.\n\n```{r}\npacman::p_load(mapview, leafsync, leaflet.extras2, dplyr)\n\nregions = mapview(franconia,\n  zcol = \"NAME_ASCI\",\n  legend = FALSE\n)\n\nbrew = mapview(breweries,\n  legend = FALSE,\n  cex = breweries$number.of.types, # size based on number of beers\n  col.regions = \"white\") # color points white \n\nregions + brew\n```\n\n### Comparing two maps side by side\n\nOne of the cooler features I've come across comes from `leafsync::sync()`, which allows you to place two mapview maps next to each other, and mirror the location of your mouse from one map to the next. Admittedly this isn't the best usecase for this comparison, but lets compare the maps showing breweries founded before the year 1800 and after.\n\n```{r}\nCUTOFF = 1800\nmap_pre = regions + \n  mapview(breweries |>\n            filter(founded < CUTOFF),\n          legend = FALSE,\n          col.regions = \"blue\")\n\nmap_post = regions + \n  mapview(breweries |>\n            filter(founded >= CUTOFF),\n          legend = FALSE,\n          col.regions = \"green\")\n\nsync(map_pre, map_post)\n```\n\nAdditionally, you can add a slider to compare the two maps in the same map.\n\n```{r}\nmap_pre | map_post\n```\n\nI'm sure there is plenty more use cases and functionality available within mapview, but these are some of the cases I've come across that I've found helpful in my workflow.\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":"auto","echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../../styles.css"],"output-file":"index.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.4.550","theme":{"light":["sandstone","../../_light.scss"],"dark":["sandstone","../../_dark.scss"]},"editor":"source","title":"Plotting dynamic maps with mapview","date":"2022-08-10","slug":[],"categories":["R","Spatial Data","Data Visualization"],"tags":["R","spatial data","data visualization"],"image":"thumb.png","description":"Cool mapping features in R with mapview."},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}